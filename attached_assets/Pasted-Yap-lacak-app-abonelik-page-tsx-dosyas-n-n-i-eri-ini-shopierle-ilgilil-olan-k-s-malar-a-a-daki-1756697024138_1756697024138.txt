Yapılacak İş: app/abonelik/page.tsx dosyasının içeriğini shopierle ilgilil olan kısımaları aşağıdaki kodla değiştir. Bu kod, "Shopier ile Öde" butonuna basıldığında, o an giriş yapmış olan kullanıcının kimliğini Shopier linkine otomatik olarak ekleyecektir.



TypeScript



'use client'; // Bu sayfanın tarayıcıda çalışacağını belirtirimport { useUser } from '@clerk/nextjs';import { useState } from 'react';export default function AbonelikPage() {

  const { user } = useUser(); // O an giriş yapmış kullanıcının bilgilerini alır

  const [isLoading, setIsLoading] = useState(false);



  // Shopier ödemesini başlatan fonksiyon

  const handleShopierPayment = () => {

    if (!user) {

      alert("Lütfen önce giriş yapın.");

      return;

    }

    

    setIsLoading(true);



    // DİKKAT: Shopier panelinden aldığınız ürün linkini buraya yapıştırın!

    const shopierProductUrl = "https://www.shopier.com/ShowProductNew/PRODÜCT_ID_BURAYA"; 

    

    // Kullanıcının kimliğini (Clerk User ID) linke özel bir parametre olarak ekliyoruz

    const finalUrl = `${shopierProductUrl}?platform_order_id=${user.id}`;

    

    // Kullanıcıyı bu akıllı linke yönlendiriyoruz

    window.location.href = finalUrl;

  };

  

  return (

    <div className="flex flex-col items-center justify-center min-h-screen bg-gray-900 text-white p-4">

      <div className="bg-gray-800 p-8 rounded-lg shadow-lg text-center max-w-md w-full">

        <h1 className="text-2xl font-bold mb-4">Profesyonel Plana Yükselt</h1>

        <p className="text-gray-400 mb-8">Aboneliğinizi başlatmak için devam edin.</p>

        

        <div className="space-y-4">

          <button 

            onClick={handleShopierPayment}

            disabled={isLoading}

            className="bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-6 rounded-lg w-full disabled:bg-gray-500"

          >

            {isLoading ? "Yönlendiriliyor..." : "Shopier ile Güvenli Ödeme Yap"}

          </button>

        </div>

      </div>

    </div>

  );

}

Kontrol Etme:

Bu değişikliği yapıp dosyayı kaydettikten sonra, Replit'teki sitenizde /abonelik sayfasına gidin. Butona tıkladığınızda, sizi Shopier'e yönlendirmeli ve tarayıcınızın adres çubuğundaki linkin sonunda ...&platform_order_id=user_xxxxxxxx gibi bir ek görmelisiniz. Bu, sistemin doğru çalıştığı anlamına gelir.